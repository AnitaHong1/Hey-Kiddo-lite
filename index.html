<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hey Kiddo</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #fbfbff;
      color: #222e50;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      padding: 1rem;
    }
    .chat-container {
      background: #ffffff;
      border: 2px solid #44bba4;
      border-radius: 12px;
      padding: 1rem;
      max-width: 400px;
      width: 100%;
      display: flex;
      flex-direction: column;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    .chat-box {
      flex-grow: 1;
      overflow-y: auto;
      margin-bottom: 1rem;
      max-height: 400px;
      display: flex;
      flex-direction: column;
    }
    .message-bubble {
      padding: 0.7rem 1rem;
      margin: 0.4rem;
      border-radius: 16px;
      max-width: 75%;
      font-size: 1rem;
      display: inline-block;
    }
    .user {
      align-self: flex-end;
      background-color: #5aa9e6;
      color: white;
      border-bottom-right-radius: 0;
    }
    .bot {
      align-self: flex-start;
      background-color: #d3cdd1;
      border-bottom-left-radius: 0;
    }
    .input-area {
      display: flex;
      gap: 0.5rem;
    }
    input, button {
      font-size: 1rem;
      padding: 0.5rem;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    input {
      flex-grow: 1;
    }
    button {
      background-color: #44bba4;
      color: white;
      border: none;
      cursor: pointer;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="chat-container">
    <div id="setup">
      <p>Who do you want to talk to?</p>
      <input type="text" id="persona" placeholder="mom, dad, fairy godmother, auntie..." />
      <button onclick="startChat()">Start Chat</button>
    </div>

    <div id="chat-ui" class="hidden">
      <div class="chat-box" id="chat"></div>
      <div class="input-area">
        <input type="text" id="userInput" placeholder="Type a message..." onkeydown="if(event.key === 'Enter'){sendMessage()}" />
        <button onclick="sendMessage()">Send</button>
      </div>
    </div>
  </div>

  <script>
    const messages = {
      mom: [
        "Sweetheart, you're doing better than you think.",
        "Make sure to eat something today, okay?",
        "I love you even when you're grumpy.",
        "Did you drink water today?",
        "Call me when you get a chance.",
        "I packed snacks in your bag, don’t forget.",
        "I know things are hard. You're doing your best.",
        "I'm proud of you even when you don’t feel proud of yourself.",
        "I wish I could give you a hug right now.",
        "Get some rest, kiddo."
      ],
      dad: [
        "Proud of you, kiddo. No matter what.",
        "Remember, mistakes are how we grow.",
        "I'm here, even if I'm quiet about it.",
        "You’ve got this. One step at a time.",
        "Don't worry about being perfect. Just keep going.",
        "I admire how much you care.",
        "Let's figure it out together, okay?",
        "Sometimes the best move is to take a break.",
        "You don't need to have all the answers today.",
        "Hey. I'm not going anywhere."
      ],
      fairy: [
        "Oh darling, even stars take time to shine.",
        "You're soft and strong—like velvet armor.",
        "One wish? I wish you’d rest and feel proud of existing.",
        "The universe shimmers when you laugh.",
        "You deserve to feel adored just because you exist.",
        "Close your eyes. Breathe in stardust, exhale doubt.",
        "Even moonlight has its phases.",
        "Magic doesn’t need to be loud to be real.",
        "You are already enough.",
        "I’m tucking a dream in your pocket."
      ],
      auntie: [
        "Baby, you don’t need to have it all figured out today.",
        "Eat something, then rest. That’s an order.",
        "You know I got your back. Always.",
        "You shine even when you feel messy.",
        "Some days are made for soft blankets and snacks.",
        "Talk to me. You don’t have to go through this alone.",
        "You're doing amazing, sweetie.",
        "Let’s survive this day together, okay?",
        "Your feelings are valid. Even the weird ones.",
        "I’m proud of how far you’ve come."
      ]
    };

    let activePersona = null;

    function startChat() {
      let persona = document.getElementById('persona').value.trim().toLowerCase();
      if (persona.includes("fairy")) persona = "fairy";
      if (persona.includes("mom")) persona = "mom";
      if (persona.includes("dad")) persona = "dad";
      if (persona.includes("aunt")) persona = "auntie";

      if (!messages[persona]) {
        alert("Sorry, I don't know how to talk like that person yet.");
        return;
      }

      activePersona = persona;
      document.getElementById('setup').classList.add('hidden');
      document.getElementById('chat-ui').classList.remove('hidden');

      appendMessage(`You're now chatting with your ${persona}.`, 'bot');
    }

    function appendMessage(content, type) {
      const chat = document.getElementById('chat');
      const msg = document.createElement('div');
      msg.classList.add('message-bubble', type);
      msg.textContent = content;
      chat.appendChild(msg);
      chat.scrollTop = chat.scrollHeight;
    }

    function sendMessage() {
      const input = document.getElementById('userInput');
      const userText = input.value.trim();
      if (!userText) return;

      appendMessage(userText, 'user');
      input.value = '';

      const list = messages[activePersona];
      const message = list[Math.floor(Math.random() * list.length)];

      setTimeout(() => {
        appendMessage(message, 'bot');
      }, 700);
    }
  </script>
</body>
</html>
